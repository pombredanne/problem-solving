A: The Balance

 a グラムと b グラムの２種類の重りと天秤を使い、d グラムを計るとき、以下の条件を満たすように x (a グラムの重りの数)と y (b グラムの重りの数)を求めよ。

1. a グラムの重りを x 個、b グラムの重りを y 個使って、d グラムを計ることができる
2. 1 の条件を満たす (x, y) が複数ある場合は、(x + y) が最小のものとする
3. 1, 2 の条件を満たす (x, y) が複数ある場合は、(a*x + b*y) が最小のものとする

解法

天秤の状態を式で表すと、(a グラムの重りをあ a と表現します)

a*x = b*y + d （左に x 個の a、右に y 個の b と d）
a*x + d = b*y （左の x 個の a と d、右に y 個の b）
a*x + b*y = d （左り x 個の a と y 個の b、右に d）

の３つの状態が考えられます。これらを展開すると

y = (a*x - d)/b ((a*x - d) が b で割りきれるとき)
y = (a*x + d)/b ((a*x + d) が b で割りきれるとき)
y = (d - a*x)/b ((d - a*x) が b で割りきれるとき)

x を 0 から d の上限である 50000 までについて、y をもとめ
(x + y) または (a*x + b*y) の最小値を更新していきます。
（無駄がありそうですが、、）

上限を（a + d）としても良さそうですが確信がありません。

もちろん効率化の余地はありますし、整数論的に解けるのかもしれません。
ICPCで Accept されるには十分なので、この辺で。。






