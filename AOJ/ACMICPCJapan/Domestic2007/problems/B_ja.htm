
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">

<head>
<link rel="STYLESHEET" 
      href=icpc.css
      type="text/css">

<meta http-equiv="Content-Type" 
      content="text/html; charset=euc-jp">

<title>Problem B</title>
</head>

<body>

<table class="main">
<!-- ------------ 1st row ---------------- -->
<!-- |        ACM Inter Collegiate Programming Contest       | -->
<tr>
 <td colspan=2 align=center>
  
<h1><img src=IMAGES/icpc_logo.png 
alt="acm International Collegiate Programming Contest"/></h1>
<div class=banner align=right><font size=-1>
<i>2007/7/6 Tokyo</i></font></div> </td>
</tr>

<!-- ------------ 2nd row ---------------- -->
<!-- menu in the 1st column. empty in the 2nd. -->
<tr>
 <td class=menu rowspan=4 valign=top nowrap>
  </td>
 <td>
  </td>
</tr>

<!-- ------------ 3rd row ---------------- -->
<!-- no 1st column. empty in the 2nd. -->
<tr>
 <td>
  </td>
</tr>

<!-- ------------ 4th row ------------ -->
<!-- nothing in the 1st column. everything else in the 2nd -->
<tr>
 <td class="main">

</div>
<a name=section_B><h2>Problem B</h2>

<!-- begin ja only -->
<h3><U>ログイン/ログアウト記録の解析</U></h3>
<!-- end ja only -->


<div>   <!-- please enclose each h3 level section with div -->
<!-- begin ja only -->
<p>
あなたは大学でコンピュータ演習を担当している．大学のコンピュータシステ
ムでは1日分のすべてのPCのログイン/ログアウト記録が一つのファイルに保存
されている．一人の学生は複数のPCを同時に使うことができるが，誰かがログ
インして，まだログアウトしていないPCにログインすることはできない．
</p>
<!-- end ja only -->

<!-- begin ja only -->
<p>
あなたはこのファイルを利用して特定の学生が特定の時間帯(おそらくは演習時
間)に少なくとも1台のPCを利用している時間の長さを計算するプログラムを作成する
ことを頼まれた．
</p>
<!-- end ja only -->

<!-- begin ja only -->
<p>
例えば，次のようなログイン/ログアウト記録があったとする．
<ul>
<li> 12:55にPC1で学生1がログイン
<li> 13:00にPC4で学生2がログイン
<li> 13:10にPC2で学生1がログイン
<li> 13:20にPC2で学生1がログアウト
<li> 13:30にPC3で学生1がログイン
<li> 13:40にPC1で学生1がログアウト
<li> 13:45にPC3で学生1がログアウト
<li> 14:20にPC1で学生1がログイン
<li> 14:30にPC4で学生2がログアウト
<li> 14:40にPC1で学生1がログアウト
</ul>
ここで，「13:00から14:30までの時間帯の，学生1の利用時間は」という質問が
与えられたときは，下の図のように13:00から13:45までの45分と14:20から
14:30までの10分の計55分と答える必要がある．
</p>
<!-- end ja only -->

<p align="center">
<img src="IMAGES/B.png"><br>
</p>

</div>

<h3>Input</h3>
<div>
<!-- begin ja only -->
<p>
入力はいくつかのデータセットの並びである.
入力の終わりは，一つの空白で区切られた二つのゼロからなる行で示される.
データセット数が10を超えることはない.
</p>
<!-- end ja only -->

<!-- begin ja only -->
<p>
各データセットは次のような形式をしている．
<blockquote>
<i>N</i>&nbsp;<i>M</i>&nbsp;<br>
<i>r</i>&nbsp;<br>
利用記録<sub>1</sub><br>
... <br>
利用記録<sub><i>r</i>&nbsp;</sub><br>
<i>q</i>&nbsp;<br>  
質問<sub>1</sub><br>
... <br>
質問<sub><i>q</i>&nbsp;</sub><br>
</blockquote>
</p>
<!-- end ja only -->


<p>
<!-- begin ja only -->
最初の行の<i>N</i>&nbsp;と<i>M</i>&nbsp;はそれぞれPC数，学生数を表す．また，<i>r</i>&nbsp;は利用記録数，<i>q</i>&nbsp;は質問数を表す．これらは次の条件を満たす整数である.
<!-- end ja only -->
<blockquote>
1 &le; <i>N</i>&nbsp; &le; 1000, 1 &le; <i>M</i>&nbsp; &le; 10000, 2 &le; <i>r</i>&nbsp; &le; 1000, 1 &le; <i>q</i>&nbsp; &le; 50
</blockquote>
</p>

<!-- begin ja only -->
<p>
利用記録の各行は次のようなスペース一つで区切られた四つの整数からなる．
</p>
<!-- end ja only -->
<blockquote>
<i>t</i>&nbsp; <i>n</i>&nbsp; <i>m</i>&nbsp; <i>s</i>&nbsp;
</blockquote>
<p>
<!-- begin ja only -->
<i>s</i>&nbsp;は0か1である．
<i>s</i>&nbsp;が1の時は，「時刻<i>t</i>&nbsp;にPC<i>n</i>&nbsp;で学生<i>m</i>&nbsp;がログインしたこと」を表す．
<i>s</i>&nbsp;が0の時は，「時刻<i>t</i>&nbsp;にPC<i>n</i>&nbsp;で学生<i>m</i>&nbsp;がログアウトしたこと」を表す．
時刻はその日の0:00からの経過を分単位で表す．
<i>t</i>&nbsp;，<i>n</i>&nbsp;, <i>m</i>&nbsp;は，次の条件を満たす．
<!-- end ja only -->
<blockquote>
540 &le; <i>t</i>&nbsp; &le; 1260,
1 &le; <i>n</i>&nbsp; &le; <i>N</i>&nbsp;, 1 &le; <i>m</i>&nbsp; &le; <i>M</i>&nbsp;
</blockquote>

<p>
<!-- begin ja only -->
利用記録については以下を仮定してよい．
<nl>
  <li>記録は時刻の昇順に並んでいる．
  <li>同じPCの同じ時刻の記録が二つ以上現れることはない．
  <li>最初の記録以前や最後の記録以降にログインしているPCはない．
  <li>同じPCについてのログインとログアウトの記録は交互に現れ，各ログイン/ログアウトの組は同じ学生のものである．
</nl>
<!-- end ja only -->
</p>

<!-- begin ja only -->
<p>
質問の各行は次のようなスペース一つで区切られた三つの整数からなる．
</p>
<!-- end ja only -->

<blockquote>
<i>t<sub>s</sub></i>&nbsp; <i>t<sub>e</sub></i>&nbsp; <i>m</i>&nbsp;
</blockquote>

<p>
<!-- begin ja only -->
これは，「時刻<i>t<sub>s</sub></i>&nbsp;から時刻<i>t<sub>e</sub></i>&nbsp;までの時間帯の，学生<i>m</i>&nbsp;の利用時間は」という質問を表している．
<i>t<sub>s</sub></i>&nbsp;, <i>t<sub>e</sub></i>&nbsp;, <i>m</i>&nbsp;は，次
の条件を満たす．
<!-- end ja only -->
<blockquote>
540 &le; <i>t<sub>s</sub></i>&nbsp; &lt; <i>t<sub>e</sub></i>&nbsp; &le; 1260,
1 &le; <i>m</i>&nbsp; &le; <i>M</i>&nbsp;
</blockquote>
</div>

<h3>Output</h3>
<div>
<!-- begin ja only -->
<p>
質問ごとに，利用時間を分単位で表す十進数一つを含む1行を出力すること．出
力行には他のいかなる文字も含んではならない．
</p>
<!-- end ja only -->

</div>

<h3>Sample Input</h3>
<div>
<pre>
4 2
10
775 1 1 1
780 4 2 1
790 2 1 1
800 2 1 0
810 3 1 1
820 1 1 0
825 3 1 0
860 1 1 1
870 4 2 0
880 1 1 0
1
780 870 1
13 15
12
540 12 13 1
600 12 13 0
650 13 15 1
660 12 15 1
665 11 13 1
670 13 15 0
675 11 13 0
680 12 15 0
1000 11 14 1
1060 12 14 1
1060 11 14 0
1080 12 14 0
3
540 700 13
600 1000 15
1000 1200 11
1 1
2
600 1 1 1
700 1 1 0
5
540 600 1
550 650 1
610 620 1
650 750 1
700 800 1
0 0
</pre>
</div>

<h3>Output for the Sample Input</h3>
<div>
<pre>
55
70
30
0
0
50
10
50
0
</pre>
</div>


 </td>                     
</tr>                      
</table>                   

</body>
</html>




